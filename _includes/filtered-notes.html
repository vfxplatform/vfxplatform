{% comment %}
  Filtered notes include
  Usage: {% include filtered-notes.html years=supported_years %}

  Renders only notes whose year range overlaps with the provided years array.
  Each note must have a from_year field. to_year is optional (if omitted, note applies indefinitely).
{% endcomment %}

{% for note in site.data.notes.notes %}
  {% assign show_note = false %}

  {% for year in include.years %}
    {% if year >= note.from_year %}
      {% if note.to_year %}
        {% if year <= note.to_year %}
          {% assign show_note = true %}
          {% break %}
        {% endif %}
      {% else %}
        {% assign show_note = true %}
        {% break %}
      {% endif %}
    {% endif %}
  {% endfor %}

  {% if show_note %}
    {% include note-card.html note=note %}
  {% endif %}
{% endfor %}
